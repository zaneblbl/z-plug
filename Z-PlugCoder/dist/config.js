!function(e){var n={};function t(o){if(n[o])return n[o].exports;var r=n[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,t),r.l=!0,r.exports}t.m=e,t.c=n,t.d=function(e,n,o){t.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:o})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,n){if(1&n&&(e=t(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(t.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var r in e)t.d(o,r,function(n){return e[n]}.bind(null,r));return o},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},t.p="build/",t(t.s=15)}({15:function(e,n,t){t(16),e.exports=t(17)},16:function(e,n){var t=document.getElementById("upload_btn"),o=document.getElementById("download_btn"),i=document.getElementById("save_btn"),c=document.getElementById("username"),d=document.getElementById("access_token"),a=document.getElementById("path"),s=document.getElementsByName("isSave"),u=document.getElementById("show_msg");function f(e,n,t){let o=`https://api.github.com/repos/${e}/${t.substring(0,t.indexOf("/"))}/contents/${t.substring(t.indexOf("/")+1)}?access_token=${n}`;return new Promise((e,n)=>{try{chrome.extension.sendMessage({url:o,type:"get"},(function(t){t?e(t):n("get content undefined")}))}catch(e){n()}})}chrome.storage.sync.get({userName:"",accessToken:"",path:"",isSave:""},(function(e){for(r in c.value=e.userName,d.value=e.accessToken,a.value=e.path,s)s[r].value===e.isSave&&(s[r].checked=!0,e.isSave)})),i.addEventListener("click",(function(){!function(e){"yes"===e?chrome.storage.sync.set({userName:c.value,accessToken:d.value,path:a.value,isSave:e},(function(){u.innerText="save success!"})):chrome.storage.sync.set({userName:"",accessToken:"",path:"",isSave:e},(function(){u.innerText="save success!"}))}(function(e){for(let n in e)if(e[n].checked)return e[n].value}(s))})),t.addEventListener("click",(function(){chrome.bookmarks.getTree((function(e){!function(e,n,t,o){let r=`https://api.github.com/repos/${e}/${t.substring(0,t.indexOf("/"))}/contents/${t.substring(t.indexOf("/")+1)}?access_token=${n}`,i={};f(e,n,t).then(e=>(i.sha=JSON.parse(e).sha,i.message="update bookmark",i.content=_.encode(JSON.stringify(o)),new Promise((e,n)=>{try{chrome.extension.sendMessage({url:r,type:"put",params:i},(function(t){t?(u.innerText="uplaod success！",e(t)):n("undefined")}))}catch(e){n(e)}})),e=>null)}(c.value,d.value,a.value,e)}))})),o.addEventListener("click",(function(){let e=null;f(c.value,d.value,a.value).then(n=>{if(e=_.decode(JSON.parse(n).content.toString()),e){let n=JSON.parse(e).find((function(e){return"0"===e.id})).children;!function e(n){chrome.bookmarks.getChildren(n,(function(n){for(let t in n)"1"===n[t].id||"2"===n[t].id?e(n[t].id):chrome.bookmarks.removeTree(n[t].id,(function(){}))}))}("0"),setTimeout(()=>{!function e(n,t){for(let o in n)if(n[o].parentId=t,"1"===n[o].id||"2"===n[o].id)e(n[o].children,n[o].id);else if(n[o].dateAdded&&delete n[o].dateAdded,n[o].id&&delete n[o].id,n[o].dateGroupModified&&delete n[o].dateGroupModified,n[o].children){let t=n[o].children;delete n[o].children,chrome.bookmarks.create(n[o],(function(n){e(t,n.id)}))}else chrome.bookmarks.create(n[o])}(n,"0")},0),u.innerText="DownLoad Success!"}},e=>{})}));var _={_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode:function(e){var n,t,o,r,i,c,d,a="",s=0;for(e=_._utf8_encode(e);s<e.length;)r=(n=e.charCodeAt(s++))>>2,i=(3&n)<<4|(t=e.charCodeAt(s++))>>4,c=(15&t)<<2|(o=e.charCodeAt(s++))>>6,d=63&o,isNaN(t)?c=d=64:isNaN(o)&&(d=64),a=a+this._keyStr.charAt(r)+this._keyStr.charAt(i)+this._keyStr.charAt(c)+this._keyStr.charAt(d);return a},decode:function(e){var n,t,o,r,i,c,d="",a=0;for(e=e.replace(/[^A-Za-z0-9+/=]/g,"");a<e.length;)n=this._keyStr.indexOf(e.charAt(a++))<<2|(r=this._keyStr.indexOf(e.charAt(a++)))>>4,t=(15&r)<<4|(i=this._keyStr.indexOf(e.charAt(a++)))>>2,o=(3&i)<<6|(c=this._keyStr.indexOf(e.charAt(a++))),d+=String.fromCharCode(n),64!=i&&(d+=String.fromCharCode(t)),64!=c&&(d+=String.fromCharCode(o));return d=_._utf8_decode(d)},_utf8_encode:function(e){e=e.replace(/rn/g,"n");for(var n="",t=0;t<e.length;t++){var o=e.charCodeAt(t);o<128?n+=String.fromCharCode(o):o>127&&o<2048?(n+=String.fromCharCode(o>>6|192),n+=String.fromCharCode(63&o|128)):(n+=String.fromCharCode(o>>12|224),n+=String.fromCharCode(o>>6&63|128),n+=String.fromCharCode(63&o|128))}return n},_utf8_decode:function(e){for(var n="",t=0,o=c1=c2=0;t<e.length;)(o=e.charCodeAt(t))<128?(n+=String.fromCharCode(o),t++):o>191&&o<224?(c2=e.charCodeAt(t+1),n+=String.fromCharCode((31&o)<<6|63&c2),t+=2):(c2=e.charCodeAt(t+1),c3=e.charCodeAt(t+2),n+=String.fromCharCode((15&o)<<12|(63&c2)<<6|63&c3),t+=3);return n}}},17:function(e,n){({windowConfigSave:"",config__window__backImg:"",config__window__showMsg:"",config__window__foreColor:"",init(){this.getDom(),this.getStorage(),this.setStorage()},getDom(){this.windowConfigSave=document.getElementById("config__window__saveBtn"),this.config__window__backImg=document.getElementById("config__window__backImg"),this.config__window__showMsg=document.getElementById("config__window__showMsg"),this.config__window__foreColor=document.getElementById("config__window__foreColor")},getStorage(){let e=this;chrome.storage.sync.get({config__window__backImg:"",config__window__foreColor:""},(function(n){e.config__window__backImg.value=n.config__window__backImg,e.config__window__foreColor.value=n.config__window__foreColor}))},setStorage(){let e=this;e.windowConfigSave.addEventListener("click",(function(){chrome.storage.sync.set({config__window__backImg:e.config__window__backImg.value,config__window__foreColor:e.config__window__foreColor.value},(function(){e.config__window__showMsg.innerText="save success!"}))}))}}).init()}});