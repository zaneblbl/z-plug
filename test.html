<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Document</title>
  <!-- <style src='./Z-PlugCoder/TranslatePlug/translate.css'></style> -->
  <link rel="stylesheet" href="./Z-PlugCoder/WindowPlug/window.css">
</head>

<style>

</style>

<body>
  <!-- <canvas id="canvas" width='100px ' height='100px'></canvas> -->
</body>

<!-- <script src='./Z-PlugCoder/Common/three.min.js'></script> -->
<!-- <script src='./Z-PlugCoder/WindowPlug/window.js'></script> -->
<script>
  var data =
    `{"yesterday":{"date":"24日星期一","high":"高温 29℃","fx":"东风","low":"低温 23℃","fl":"<![CDATA[3-4级]]>","type":"多云"},"city":"杭州","forecast":[{"date":"25日星期二","high":"高温 25℃","fengli":"<![CDATA[<3级]]>","low":"低温 23℃","fengxiang":"东南风","type":"中雨"},{"date":"26日星期三","high":"高温 31℃","fengli":"<![CDATA[<3级]]>","low":"低温 23℃","fengxiang":"东北风","type":"小雨"},{"date":"27日星期四","high":"高温 32℃","fengli":"<![CDATA[<3级]]>","low":"低温 24℃","fengxiang":"东风","type":"多云"},{"date":"28日星期五","high":"高温 35℃","fengli":"<![CDATA[<3级]]>","low":"低温 26℃","fengxiang":"无持续风向","type":"小雨"},{"date":"29日星期六","high":"高温 35℃","fengli":"<![CDATA[<3级]]>","low":"低温 26℃","fengxiang":"无持续风向","type":"多云"}],"ganmao":"相对于今天将会出现大幅度降温，空气湿度较大，易发生感冒，请注意适当增加衣服。","wendu":"21"}`;

  var json = JSON.parse(data);

  let {
    city,
    forecast,
    ganmao,
    wendu
  } = json;

  //温度显示
  var temp = document.createElement('div');
  temp.id = 'temp';
  temp.classList.add('plug_window_temp');
  temp.innerHTML =
    `<div><img src='./Z-PlugCoder/WindowPlug/Resources/bigrain.png'>
      <span class='window_small_font window_city' contenteditable='false' id='window_city'>${city}</span>
      <span class='window_wendu' title=${ganmao} >${wendu}℃</span>
      </div>`;
  window.document.body.appendChild(temp);

  city_change();

  function city_change() {
    let window_city = document.getElementById('window_city');
    window_city.addEventListener('click', function () {
      window_city.classList.add('city_checked');
      window_city.setAttribute('contenteditable','true');
    });

    window_city.addEventListener('blur',function(){
      window_city.setAttribute('contenteditable','false');
    });

  }

</script>

</html>